
# Web Post Ontology (WPO)
GitHub repository for the Web Post Ontology of Hooray Media. Contains a taxonomy of conceptual/topical "categories" for the purpose of organizing web posts centering on parenting and dating lifestyle content.

This is a provisional (and necessarily philosophically "loose") representation of general topics/categories used to organize website content for posts pertaining to parenting and dating lifestyle. Inasmuch as the things represented here are not precisely tangible, the taxonomy is intentionally "fiat" (see Barry Smith's BFO). Therefore, the author maintains the stance that (1) the end-user view of the webpages themselves and (2) the ease of use of the website for content writers in categorizing new content are more important than the philosophical rigor of the taxonomy.

Moreover, where the semantics of "subClassOf" mean inheritance and specialization, within this taxonomy, the definition of "subClassOf" is loosened. For example, while "Fall Festival" is not, semantically, a subclass of "Fall", it is nonetheless placed under "Fall". This is because the purpose of the taxonomy is to help content writers organize website posts, and such a prescription is intuitive to laymen.

The BFO principle of naming things singularly (non-plurally) is violated here. This is because, for web content categorization, it is common practice for post categories to be plural. E.g., "Holidays" is more appropriately displayed on a web page than "Holiday". This is not true for every term, however, e.g., as "Family" is more appropriate than "Families". In short: the decision between singular and plural terms is subjectively based on the applicability to web content writers and readers.

Some of the other BFO-esque principles are violated here: single inheritance, Aristotelian definitions and the use of roles.

## Current Version
v0.5.0-alpha
* [TTL version](ontology/v0.5.0-alpha/wpo_v0.5.0-alpha.ttl)
* [HTML version](ontology/v0.5.0-alpha/wpo_v0.5.0-alpha.html)
* [Image version](ontology/v0.5.0-alpha/wpo_v0.5.0-alpha.png)
* [Text version](ontology/v0.5.0-alpha/class_hierarchy.txt)

# Repository Structure
* [munging](munging/) contains Python scripts for various tasks; mostly ignorable
* [ontology](ontology/) contains folders for each released version of the WPO; each folder contains, at minimum
  * ```changes.md``` contains a listing of everything modified from the last version
  * ```wpo_vx.x.x-xxx.ttl``` is the source representation of the ontology from Protégé  
  * ```wpo_vx.x.x-xxx.html``` is a LODE-generated static HTML representation of the ontology
  * ```wpo_vx.x.x-xxx.png``` (sometimes a .svg) is a visual representation of the ontology generated by jsoncrack
  * ```class_hierarchy.txt``` contains a textual representation of the class hierarchy
* [Issues](https://github.com/PR0CK0/WebPostOntology/issues) is more or less a to-do list
  
# General Information
Below are some general things to consider about the WPO:

* The taxonomy underlying this ontology is inspired by AOL's DMOZ project, which ran from 1998-2017. DMOZ was an early attempt for Internet denizens to organize the web, before machines did so. Much of its hierarchy manifests here, although the perspective is certainly more focused.
* To retain some level of linkage to outside sources, the terms herein are linked to Wikidata and/or DBPedia terms, with either (1) skos:example or (2) dct:source. For the former, the terms are roughly similar, but not exactly the same; for the latter, the terms are considered identical. E.g., in this taxonomy, the term "Animals" excludes humans, where the Wikidata and DBPedia terms include humans. This is because, as delineated earlier, the purpose of this taxonomy is to be amenable to lifestyle content writers publishing magazine-like articles, so for them, humans are not necessarily animals, as pets and wildlife are.
  * Initially, I had used rdfs:seeAlso and owl:sameAs, but neither of these can be rendered with PyLODE (it only allows [a few annotation properties](https://github.com/RDFLib/pyLODE/blob/master/pylode/rdf_elements.py) to show), and using owl:sameAs causes Protégé to enforce some rules that ruins rendering, so I had to use skos:example and dct:source
    * I may transition to using regular [LODE](https://essepuntato.it/lode/), which may allow more annotations to be rendered, but it needs investigation as well
* I use the delimiter ```#``` insead of ```/``` because it allows you to jump around HTML or TTL pages opened on the web, as the ```#``` is a fragment designed to do so
* The base IRI of the ontology is ```https://hooray.media/ontology/wpo#```
* Class definitions are an amalgamation of Wikidata and DBPedia, in addition to the "lifestyle content focused" knowledge particular to the task at hand
  * Class definitions are of the general form "A superclass that xyz", where superclass is the immediate parent class, and xyz contains the specific information about the class in question
    * Superclasses are not stated for the top-level classes

# Version Updates
All updates to the taxonomy are performed in Protégé. The general process after updating (anything, including term ordering, term names/annotations, addition/deletion of terms, etc.) is:

### Protégé Work
To keep the delimiter uniform, when editing in Protégé, make sure in the File > Preferences > New entities tab, you have 'Followed by:' selected to be ```#```, and not ```/```.

1. In Protégé, click Refactor > Change ontology IRI > Enter new version number (I don't use a "versioned" IRI; I build it into the IRI normally)
   1. **No longer necessary** after version 0.5.0-alpha, as we removed the version number from the IRI to make updates easier
2. In the Ontology tab, under the Ontology Prefixes tab at the bottom, update the blank (default) namespace prefix IRI with the new version number and hit Enter
3. Refactor > Rename multiple entities > Enter the old versioned IRI in the first line and the new versioned IRI in the second line > Rename
4. In the Ontology pane, update the owl:priorVersion and owl:versionInfo statements, as well as the dcterms:modified date
5. Any time you introduce a new class, you have to do the following:
   1. Give it an rdfs:label
   2. Give it a skos:definition
   3. Add an rdfs:isDefinedBy statement (automatable)
   4. Add outgoing links to DBPedia and Wikidata
      1. Search for the term here ```https://dbpedia.org/page/xxx```
      2. And here ```https://www.wikidata.org/w/index.php?search=xxx```

### isDefinedBy Update
The ```rdfs:isDefinedBy``` statement is used so that if, by some chance, someone encounters only a class fragment on the Web, they have an explicit link back to the main ontology. It did have to be updated manually after every update, but after version 0.5.0-alpha, with the removal of the version number from the base IRI, it is no longer needed.

*However*, when adding new classes, instead of adding the ```rdfs:isDefinedBy``` property and its value manually, it can be automated:
1. Open [munging/ontology_modification/isDefinedBy_Adder.py](munging/ontology_modification/isDefinedBy_Adder.py)
2. Put your new ontology file in the same folder with it
3. Change the input_file and output_file variables
4. Run and use your new ontology file as needed

isDefinedBy_Adder.py

### jsoncrack Visualization
Visualizations are then made with [jsoncrack.com](jsoncrack.com).

1. Open [munging/ontology_outputting/ttl_to_json.py](munging/ontology_outputting/ttl_to_json.py)
2. Put the ontology file in the same folder as this script
3. Change the ttl_file_path and output_file_path variables as desired
4. Run the script
5. Copy/paste the JSON content into jsoncrack's editor
6. Top right, click the download arrow, then save as PNG or SVG

### PyLODE HTML rendering
1. Download the latest version of PyLODE [here](https://github.com/RDFLib/pyLODE)
2. Put your ontology file in the bin/ folder
3. Open a command prompt in the bin/ folder
4. Run ```./pyLODE.exe -o output.html input.ttl```, replacing the input and output filenames with yours
5. Refresh the folder and you should have a new static HTML file for the ontology

### Textual hierarchy rendering
This is for the ingestion of the authors and others, in case they prefer a text visualization of the hierarchy over an image.
1. Open [munging/ontology_outputting/print_wordpress_hierarchy.py](munging/ontology_outputting/print_wordpress_hierarchy.py)
2. Put the ontology file in the same folder as this script
3. Change the ttl_file_path and output_file_path variables as desired
4. Run the script
5. Move the output class_hierarchy.txt file as needed

# Credit
* John Byrne of Hooray Media for project inception
* Dani Meyering for feedback
* Meghan Roth for feedback
* Laura Byrne for feedback
* Tyler Procko, ontologist